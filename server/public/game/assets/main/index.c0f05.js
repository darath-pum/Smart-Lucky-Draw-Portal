window.__require=function t(e,o,n){function r(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=o[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({BaseAnimator:[function(t,e,o){"use strict";cc._RF.push(e,"b6f5eWdZPxLaZmymoFddRse","BaseAnimator");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fps=60,e.loop=!0,e.playOnStart=!0,e.isPlaying=!1,e._frame=0,e._dt=0,e}return r(e,t),e.prototype.onEnable=function(){this.playOnStart&&this.play(this.loop)},e.prototype.update=function(t){this.isPlaying&&(this._timePerFrame=1/this.fps,this._dt+=t,this._dt>=this._timePerFrame&&(this._dt-=this._timePerFrame,this._frame++,this._frame>=this.getMaxFrame()&&(this._frame=0),this.processFrame(this._frame)))},e.prototype.getMaxFrame=function(){return 0},e.prototype.processFrame=function(){},e.prototype.play=function(t){this.loop=t,this.isPlaying=!0},e.prototype.pause=function(){this.isPlaying=!1},e.prototype.reset=function(){this._dt=0,this._frame=0,this.isPlaying=!1},i([a],e.prototype,"fps",void 0),i([a],e.prototype,"loop",void 0),i([a],e.prototype,"playOnStart",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ButtonSoundPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"7f9caZJwINAw6uHK/NZUPfG","ButtonSoundPlayer");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../controllers/SoundManager"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.toggleTarget=null,e.overrideClip=null,e}return r(e,t),e.prototype.start=function(){this.target||(this.target=this.node.getComponent(cc.Button)),this.target||this.toggleTarget||(this.toggleTarget=this.node.getComponent(cc.Toggle));var t=this.target||this.toggleTarget;if(t){var e=new cc.Component.EventHandler;e.target=this.node,e.handler="onClick",e.component="ButtonSoundPlayer",t.clickEvents.push(e)}},e.prototype.onClick=function(){this.overrideClip?c.default.instance.playSFXClip(this.overrideClip,!1):c.default.instance.playSFX("click",!1)},i([p(cc.Button)],e.prototype,"target",void 0),i([p(cc.Toggle)],e.prototype,"toggleTarget",void 0),i([p(cc.AudioClip)],e.prototype,"overrideClip",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../controllers/SoundManager":"SoundManager"}],Commons:[function(t,e,o){"use strict";cc._RF.push(e,"3e0f7wEzRlGLZHvJF3tiiuC","Commons"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageBoxButton=o.PrefKeys=o.Localization=void 0,function(t){t[t.English=0]="English",t[t.Khmer=1]="Khmer"}(o.Localization||(o.Localization={})),function(t){t.Language="lang",t.Progress="prog"}(o.PrefKeys||(o.PrefKeys={})),function(t){t[t.Yes=0]="Yes",t[t.No=1]="No"}(o.MessageBoxButton||(o.MessageBoxButton={})),cc._RF.pop()},{}],CustomEditBox:[function(t,e,o){"use strict";cc._RF.push(e,"917f1NOYlxLbYfPh8+egvML","CustomEditBox");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../controllers/GameConfigs"),s=t("./LocaleFontSetter"),a=cc._decorator,p=a.ccclass,l=a.property,u=a.requireComponent,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.placeholderLabel=null,e.textLabel=null,e.errorState=[],e.endEditCallback=null,e.textChangedCallback=null,e._editBox=null,e._locale=-1,e}return r(e,t),e.prototype.start=function(){var t=new cc.Component.EventHandler;t.component="CustomEditBox",t.target=this.node,t.handler="onEndEdit";var e=new cc.Component.EventHandler;e.component="CustomEditBox",e.target=this.node,e.handler="onTextChanged";var o=this.getEditBox();o.editingDidEnded.push(t),o.textChanged.push(e),this._locale<0&&this.setLocale(c.default.instance.locale)},e.prototype.getLocale=function(){return this._locale<0&&this.setLocale(c.default.instance.locale),this._locale},e.prototype.getEditBox=function(){return this._editBox||(this._editBox=this.node.getComponent(cc.EditBox)),this._editBox},e.prototype.getText=function(){return this.getEditBox().string.trim()},e.prototype.setLocale=function(t){this._locale=t,this.placeholderLabel&&this.placeholderLabel.setLocale(t),this.textLabel&&this.textLabel.setLocale(t)},e.prototype.setPlaceholder=function(t){this.getEditBox().placeholder=t,this.setLocale(this.getLocale())},e.prototype.setText=function(t){this.getEditBox().string=t},e.prototype.setError=function(t){this.errorState&&this.errorState.forEach(function(e){return e.active=t})},e.prototype.onEndEdit=function(){this.endEditCallback&&this.endEditCallback(this),this.setLocale(this._locale)},e.prototype.onTextChanged=function(){this.textChangedCallback&&this.textChangedCallback(this)},i([l(s.default)],e.prototype,"placeholderLabel",void 0),i([l(s.default)],e.prototype,"textLabel",void 0),i([l([cc.Node])],e.prototype,"errorState",void 0),i([p,u(cc.EditBox)],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../controllers/GameConfigs":"GameConfigs","./LocaleFontSetter":"LocaleFontSetter"}],DontDestroyOnLoad:[function(t,e,o){"use strict";cc._RF.push(e,"32501YoCzZHfoACn9RCA2+a","DontDestroyOnLoad");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node)},i([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],ErrorPopup:[function(t,e,o){"use strict";cc._RF.push(e,"84cf62ky65NCY/ikFu0QGZI","ErrorPopup");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./MessagePopup"),s=cc._decorator.ccclass,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([s],e)}(c.default);o.default=a,cc._RF.pop()},{"./MessagePopup":"MessagePopup"}],FXObject:[function(t,e,o){"use strict";cc._RF.push(e,"16c8ahU4vFPt4yb3Ez/JErw","FXObject");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.particle=null,e.lifeTime=-1,e}return r(e,t),e.prototype.onEnable=function(){var t=this;this.lifeTime>0&&this.scheduleOnce(function(){return t.node.active=!1},this.lifeTime),this.animation&&this.animation.play(),this.particle&&this.particle.resetSystem()},e.prototype.setActiveAt=function(t,e,o){this.node.setParent(o),this.node.setPosition(t,e),this.node.active=!0},i([a(cc.Animation)],e.prototype,"animation",void 0),i([a(cc.ParticleSystem)],e.prototype,"particle",void 0),i([a],e.prototype,"lifeTime",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],GameConfigs:[function(t,e,o){"use strict";cc._RF.push(e,"b8a746qTeNH7IDm47u9nuRF","GameConfigs");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../models/Commons"),s=t("../models/UserPreference"),a=cc._decorator,p=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fonts=[],e.boldFonts=[],e.baseApiUrl="http://localhost:4545/game/api",e.apiWaitDuration=5,e.devMode=!0,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.devMode||(this.baseApiUrl=""),this.load()},e.prototype.getFont=function(t,e){return e?this.boldFonts[t]:this.fonts[t]},e.prototype.getLocaleName=function(){return this.locale===c.Localization.English?"en":"kh"},e.prototype.setLocale=function(t){this.locale=t,s.default.set(c.PrefKeys.Language,this.locale.toString())},e.prototype.load=function(){var t=window.location.search,e=new URLSearchParams(t),o=e.get("lang")||"kh";switch(this.campaignId=e.get("cid")||"test",o){case"kh":this.locale=c.Localization.Khmer;break;default:this.locale=c.Localization.English}this.jsonAPIHeader={"Content-Type":"application/json","X-CSRF-TOKEN":window.csrf||""},s.default.prefix_key="smld:";var n=s.default.get(c.PrefKeys.Language);n&&(this.locale=parseInt(n))},i([l([cc.Font])],e.prototype,"fonts",void 0),i([l([cc.Font])],e.prototype,"boldFonts",void 0),i([l],e.prototype,"baseApiUrl",void 0),i([l],e.prototype,"apiWaitDuration",void 0),i([l({tooltip:"If true then use the testPhone and baseApiUrl propertie from inspector. Must set this to false when build for production"})],e.prototype,"devMode",void 0),o=i([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../models/Commons":"Commons","../models/UserPreference":"UserPreference"}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"2c60aRSw61Ba51e7C2xq34k","GameManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function c(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./GameConfigs"),p=t("./UIManager"),l=cc._decorator,u=l.ccclass,f=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroundSprites=[],e.loadedSpriteFrames={},e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.start=function(){this._configs=a.default.instance,this.initializeGameAsync()},e.prototype.initializeGameAsync=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(o){switch(o.label){case 0:return t=p.default.instance,(e=t.loadingPopup).show(),[4,this.getWinnerListAsync()];case 1:return o.sent(),e.close(),[2]}})})},e.prototype.buildRequestBody=function(t){return t||{}},e.prototype.makeAPIRequest=function(t,e,o,n){return c(this,void 0,Promise,function(){var r,i,c,a,l,u,f;return s(this,function(s){switch(s.label){case 0:r=null,i=!1,n&&n>0&&(a=new AbortController,r=a.signal,c=setTimeout(function(){i=!0,a.abort("API Timeout!")},1e3*n)),l={code:500},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(this._configs.baseApiUrl+"/game"+t+"/"+this._configs.campaignId,{method:e,headers:this._configs.jsonAPIHeader,body:o?JSON.stringify(this.buildRequestBody(o)):null,signal:r,credentials:"include"})];case 2:return[4,(u=s.sent()).json()];case 3:if(l=s.sent(),c&&clearTimeout(c),500===u.status)throw"Unexpected server error!";return[3,5];case 4:return f=s.sent(),l.error=i?"API Timeout!":f,500===l.code&&p.default.instance.showErrorPopup(l.error),[3,5];case 5:return[2,l]}})})},e.prototype.loginAsync=function(t,e){return c(this,void 0,Promise,function(){return s(this,function(o){switch(o.label){case 0:return[4,this.makeAPIRequest("/login","POST",{email:t,password:e})];case 1:return 200!==o.sent().code?[3,3]:[4,this.getWinnerListAsync()];case 2:return[2,o.sent()];case 3:return[2,!1]}})})},e.prototype.getWinnerListAsync=function(){return c(this,void 0,Promise,function(){var t,e=this;return s(this,function(o){switch(o.label){case 0:return[4,this.makeAPIRequest("/getPrizeWinner","GET")];case 1:return 200!==(t=o.sent()).code?[3,3]:(this.winnerList=t.data,[4,new Promise(function(t){e.getSpriteFrameAsync(e.winnerList.campaignImage,function(o){t(),e.backgroundSprites.forEach(function(t){o&&(t.spriteFrame=o)}),p.default.instance.gameView.show()})})]);case 2:return o.sent(),[2,!0];case 3:403===t.code?p.default.instance.loginPopup.show():p.default.instance.showErrorPopup(t.error,function(){return window.location.reload()}),o.label=4;case 4:return[2,!1]}})})},e.prototype.commitWinnersAsync=function(){return c(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.makeAPIRequest("/commitWonPrize","POST")];case 1:return 200===t.sent().code?[2,!0]:[2,!1]}})})},e.prototype.resetWinnersAsync=function(){return c(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.makeAPIRequest("/resetWonPrize","DELETE")];case 1:return 200===t.sent().code?[2,!0]:[2,!1]}})})},e.prototype.getSpriteFrameAsync=function(t,e){var o=this,n=this.loadedSpriteFrames[t];if(n)e&&e(n);else if(t&&(t.startsWith("data:image")||t.startsWith("http"))){var r=new Image;r.onload=function(){var n=new cc.Texture2D;n.initWithElement(r);var i=new cc.SpriteFrame(n);o.loadedSpriteFrames[t]=i,e&&e(i)},r.onerror=function(){e&&e(null)},r.src=t}else e&&e(null)},i([f([cc.Sprite])],e.prototype,"backgroundSprites",void 0),o=i([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./GameConfigs":"GameConfigs","./UIManager":"UIManager"}],GameView:[function(t,e,o){"use strict";cc._RF.push(e,"4c181nzlS9JPI8F5LQ/eC1k","GameView");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function c(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../controllers/GameConfigs"),p=t("../controllers/GameManager"),l=t("../controllers/UIManager"),u=t("../models/Commons"),f=t("../models/UserPreference"),h=t("../utils/Utils"),d=t("./PrizeListItem"),y=t("./WinnerListItem"),_=cc._decorator,g=_.ccclass,v=_.property,m=function(){function t(t){var e=p.default.instance;try{var o=JSON.parse(t);this.prizes=o.prizes,this.selected_prize=o.selected_prize}catch(_){this.prizes={};for(var n=0,r=e.winnerList.prizes;n<r.length;n++){var i=r[n];this.prizes[i.id]=[]}this.selected_prize=e.winnerList.prizes[0].id}}return t.prototype.save=function(){f.default.set(u.PrefKeys.Progress,JSON.stringify(this))},t}(),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prizeListRoot=null,e.winnerListRoot=null,e.prizeListItemPrefab=null,e.winnerListItemPrefab=null,e.autoButton=null,e.startButton=null,e.stopButton=null,e.nextButton=null,e.commitButton=null,e.resetButton=null,e.confirmResetMessage=[],e.confirmCommitMessage=[],e.yesButtonText=["Confirm","\u1799\u179b\u17cb\u1796\u17d2\u179a\u1798"],e.noButtonText=["Cancel","\u1791\u17c1"],e.prizeImage=null,e.phoneLabel=null,e._prizeListItems=[],e._winnerListItems=[],e._numbersToRandom=[],e._autoStart=!1,e._running=!1,e._prizeIndex=0,e._prizeNumber=0,e._index=0,e}return r(e,t),e.prototype.generateRandomPhoneNumbers=function(t){void 0===t&&(t=300);for(var e=["010","015","016","069","070","081","086","087","093","096","098"],o=[],n=0;n<t;n++){var r=void 0;do{for(var i=h.default.randomElement(e),c="096"===i?7:6,s="",a=0;a<c;a++)s+=h.default.randomRangeInt(0,9);r=i+s}while(o.includes(r));o.push(r)}this._numbersToRandom=o},e.prototype.initializePrizeList=function(){var t,e=p.default.instance.winnerList;for(t=0;t<e.prizes.length;t++){var o=e.prizes[t],n=this._prizeListItems[t];if(!n){var r=cc.instantiate(this.prizeListItemPrefab);r.setParent(this.prizeListRoot),n=r.getComponent(d.default),this._prizeListItems.push(n)}n.node.active=!0,n.initialize(o,e.prizeQtyList[t]),n.gameView=this,o.id===this._progress.selected_prize&&n.setSelected(!0)}for(;t<this._prizeListItems.length;t++)this._prizeListItems[t].node.active=!1},e.prototype.initializeWinnerList=function(){var t,e=this._progress.prizes[this._progress.selected_prize];for(t=0;t<e.length;t++){var o=e[t],n=this._winnerListItems[t];if(!n){var r=cc.instantiate(this.winnerListItemPrefab);r.setParent(this.winnerListRoot),n=r.getComponent(y.default),this._winnerListItems.push(n)}n.node.active=!0,n.initialize(o)}for(;t<this._winnerListItems.length;t++)this._winnerListItems[t].node.active=!1},e.prototype.loadSavedProgress=function(){var t=this;this._progress=new m(f.default.get(u.PrefKeys.Progress));var e=p.default.instance.winnerList.prizes;this._prizeIndex=e.findIndex(function(e){return e.id===t._progress.selected_prize})},e.prototype.hideAllButtons=function(){this.autoButton.active=this.startButton.active=this.stopButton.active=this.resetButton.active=this.commitButton.active=this.nextButton.active=!1},e.prototype.refreshButtons=function(){if(this.hideAllButtons(),this.isAllCompleted())return this.commitButton.active=!0,void(this.resetButton.active=!0);this.isCurrentComplete()||(this.startButton.active=!this._running&&!this._autoStart,this.autoButton.active=!this._running,this.stopButton.active=this._running&&!this._autoStart)},e.prototype.updateSelectedPrize=function(){var t=this,e=d.default.selectedItem.prize;this._progress.selected_prize=e.id,this.initializeWinnerList(),this._progress.save(),p.default.instance.getSpriteFrameAsync(e.image,function(e){t.prizeImage.spriteFrame=e}),this._prizeIndex=this._prizeListItems.findIndex(function(t){return t.prize===e}),this._prizeNumber=this._progress.prizes[this._progress.selected_prize].length,this.refreshButtons()},e.prototype.isAllCompleted=function(){for(var t=!0,e=p.default.instance.winnerList,o=0;o<e.prizeQtyList.length;o++){var n=e.prizeQtyList[o],r=e.prizes[o];if(this._progress.prizes[r.id].length<n){t=!1;break}}return t},e.prototype.isCurrentComplete=function(){var t=p.default.instance.winnerList,e=this._progress.prizes[this._progress.selected_prize].length>=t.prizeQtyList[this._prizeIndex];return this.nextButton.active=e,e},e.prototype.update=function(){this._running&&(this.phoneLabel.string=this._numbersToRandom[++this._index%this._numbersToRandom.length])},e.prototype.show=function(){this.node.active=!0,this._autoStart=this._running=!1,this.generateRandomPhoneNumbers(),this.loadSavedProgress(),this.initializePrizeList(),this.initializeWinnerList(),this.updateSelectedPrize()},e.prototype.onStartClicked=function(){this._autoStart=!1,this._running=!0,this.refreshButtons()},e.prototype.onAutoStartClicked=function(){var t=this;this._autoStart=this._running=!0,this.refreshButtons(),this.scheduleOnce(function(){return t.onStopClicked()},1)},e.prototype.onStopClicked=function(){this._running=!1;for(var t=p.default.instance.winnerList,e=0,o=0;o<this._prizeIndex;o++)e+=t.prizeQtyList[o];e+=this._prizeNumber;var n=t.msisdnList[e];this._prizeNumber++,this._progress.prizes[this._progress.selected_prize].push(n),this.initializeWinnerList(),this.phoneLabel.string=n,this.refreshButtons(),this._autoStart&&!this.isAllCompleted()&&(this.isCurrentComplete()?this.onNextClicked():this.onAutoStartClicked())},e.prototype.onResetClicked=function(){var t=this,e=a.default.instance.locale;l.default.instance.showConfirmPopup(this.confirmResetMessage[e],this.yesButtonText[e],this.noButtonText[e],function(e){return c(t,void 0,void 0,function(){var t;return s(this,function(o){switch(o.label){case 0:return e?[4,p.default.instance.resetWinnersAsync()]:[2];case 1:return t=o.sent(),f.default.deleteKey(u.PrefKeys.Progress),t&&window.location.reload(),[2]}})})})},e.prototype.onNextClicked=function(){this._prizeIndex=++this._prizeIndex%this._prizeListItems.length;var t=this._prizeListItems[this._prizeIndex];this.onPrizeItemClicked(t),this._autoStart&&(this.isCurrentComplete()?this.onNextClicked():this.onAutoStartClicked())},e.prototype.onCommitClicked=function(){return c(this,void 0,void 0,function(){var t,e=this;return s(this,function(){return t=a.default.instance.locale,l.default.instance.showConfirmPopup(this.confirmCommitMessage[t],this.yesButtonText[t],this.noButtonText[t],function(t){return c(e,void 0,void 0,function(){var e;return s(this,function(o){switch(o.label){case 0:return t?[4,p.default.instance.commitWinnersAsync()]:[2];case 1:return e=o.sent(),f.default.deleteKey(u.PrefKeys.Progress),e&&window.location.reload(),[2]}})})}),[2]})})},e.prototype.onPrizeItemClicked=function(t){t.setSelected(!0),this.updateSelectedPrize()},i([v(cc.Node)],e.prototype,"prizeListRoot",void 0),i([v(cc.Node)],e.prototype,"winnerListRoot",void 0),i([v(cc.Prefab)],e.prototype,"prizeListItemPrefab",void 0),i([v(cc.Prefab)],e.prototype,"winnerListItemPrefab",void 0),i([v(cc.Node)],e.prototype,"autoButton",void 0),i([v(cc.Node)],e.prototype,"startButton",void 0),i([v(cc.Node)],e.prototype,"stopButton",void 0),i([v(cc.Node)],e.prototype,"nextButton",void 0),i([v(cc.Node)],e.prototype,"commitButton",void 0),i([v(cc.Node)],e.prototype,"resetButton",void 0),i([v({type:[cc.String],multiline:!0})],e.prototype,"confirmResetMessage",void 0),i([v({type:[cc.String],multiline:!0})],e.prototype,"confirmCommitMessage",void 0),i([v({type:[cc.String]})],e.prototype,"yesButtonText",void 0),i([v({type:[cc.String]})],e.prototype,"noButtonText",void 0),i([v(cc.Sprite)],e.prototype,"prizeImage",void 0),i([v(cc.Label)],e.prototype,"phoneLabel",void 0),i([g],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../controllers/GameConfigs":"GameConfigs","../controllers/GameManager":"GameManager","../controllers/UIManager":"UIManager","../models/Commons":"Commons","../models/UserPreference":"UserPreference","../utils/Utils":"Utils","./PrizeListItem":"PrizeListItem","./WinnerListItem":"WinnerListItem"}],HyperlinkButton:[function(t,e,o){"use strict";cc._RF.push(e,"0424bqbpiJJhq6j+3ciom5k","HyperlinkButton");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../controllers/GameConfigs"),s=cc._decorator,a=s.ccclass,p=s.property,l=s.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.links=[],e.target="_blank",e._btn=null,e}return r(e,t),e.prototype.start=function(){this._btn=this.node.getComponent(cc.Button);var t=new cc.Component.EventHandler;t.target=this.node,t.component="HyperlinkButton",t.handler="onClicked",this._btn.clickEvents.push(t)},e.prototype.onClicked=function(){window.open(this.links[c.default.instance.locale],this.target)},i([p([cc.String])],e.prototype,"links",void 0),i([p],e.prototype,"target",void 0),i([a,l(cc.Button)],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../controllers/GameConfigs":"GameConfigs"}],LocaleFontSetter:[function(t,e,o){"use strict";cc._RF.push(e,"0e0292xHQJIFqXCEfIxdxPf","LocaleFontSetter");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../controllers/GameConfigs"),s=t("./LocalizationComponent"),a=cc._decorator,p=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.overrideFontSize=!1,e.fontSizes=[],e.overrideLineHeight=!1,e.lineHeights=[],e.overrideWidth=!1,e.widths=[],e.overrideFont=!1,e.fonts=[],e.isBold=!1,e}return r(e,t),e.prototype.getLabel=function(){return this._label||(this._label=this.node.getComponent(cc.Label)),this._label||(this._label=this.node.getComponent(cc.RichText)),this._label},e.prototype.setLocale=function(e){t.prototype.setLocale.call(this,e);var o=this.getLabel();if(o.font=this.overrideFont?this.fonts[e]:c.default.instance.getFont(e,this.isBold),this.overrideFontSize&&(o.fontSize=this.fontSizes[e]),this.overrideLineHeight&&(o.lineHeight=this.lineHeights[e]),this.overrideWidth){var n=this._label.getComponent(cc.Widget);n?(n.left=n.right=this.widths[e],n.updateAlignment()):o.node.width=this.widths[e]}},e.prototype.setText=function(t){this.getLabel().string=t},i([l],e.prototype,"overrideFontSize",void 0),i([l([cc.Float])],e.prototype,"fontSizes",void 0),i([l],e.prototype,"overrideLineHeight",void 0),i([l([cc.Integer])],e.prototype,"lineHeights",void 0),i([l],e.prototype,"overrideWidth",void 0),i([l([cc.Float])],e.prototype,"widths",void 0),i([l],e.prototype,"overrideFont",void 0),i([l([cc.Font])],e.prototype,"fonts",void 0),i([l],e.prototype,"isBold",void 0),i([p],e)}(s.default);o.default=u,cc._RF.pop()},{"../controllers/GameConfigs":"GameConfigs","./LocalizationComponent":"LocalizationComponent"}],LocalizationComponent:[function(t,e,o){"use strict";cc._RF.push(e,"feef4xOD0RMFLqj9Xw9xh7f","LocalizationComponent");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../controllers/GameConfigs"),s=cc._decorator.ccclass,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._locale=-1,e}return r(e,t),e.prototype.onEnable=function(){var t=c.default.instance.locale;this._locale!==t&&this.setLocale(t)},e.prototype.setLocale=function(t){this._locale=t},e.prototype.getLocale=function(){return this._locale},i([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{"../controllers/GameConfigs":"GameConfigs"}],LocalizationLabel:[function(t,e,o){"use strict";cc._RF.push(e,"cada8JCJxdFUJfMJ6Cv57+9","LocalizationLabel");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./LocaleFontSetter"),s=cc._decorator,a=s.ccclass,p=s.property,l=s.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texts=[],e._textUpdated=!1,e}return r(e,t),e.prototype.start=function(){this.updateText(this.getLocale())},e.prototype.setLocale=function(e){t.prototype.setLocale.call(this,e),this._textUpdated=!1,this.updateText(e)},e.prototype.updateText=function(t){this._textUpdated||(this._textUpdated=!0,this.getLabel().string=this.texts[t])},i([p({type:[cc.String],multiline:!0})],e.prototype,"texts",void 0),i([a,l(cc.Label)],e)}(c.default);o.default=u,cc._RF.pop()},{"./LocaleFontSetter":"LocaleFontSetter"}],LocalizationNode:[function(t,e,o){"use strict";cc._RF.push(e,"e6972AsiCdKpLVRa5GvV+87","LocalizationNode");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./LocalizationComponent"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodes=[],e}return r(e,t),e.prototype.setLocale=function(e){t.prototype.setLocale.call(this,e);for(var o=0;o<this.nodes.length;o++)this.nodes[o].active=e===o},i([p([cc.Node])],e.prototype,"nodes",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./LocalizationComponent":"LocalizationComponent"}],LocalizationSprite:[function(t,e,o){"use strict";cc._RF.push(e,"0e65cdUy5lBQqXyasV800d0","LocalizationSprite");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./LocalizationComponent"),s=cc._decorator,a=s.ccclass,p=s.property,l=s.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.frames=[],e}return r(e,t),e.prototype.setLocale=function(e){t.prototype.setLocale.call(this,e),this.sprite||(this.sprite=this.node.getComponent(cc.Sprite)),this.sprite.spriteFrame=this.frames[e]},i([p(cc.Sprite)],e.prototype,"sprite",void 0),i([p([cc.SpriteFrame])],e.prototype,"frames",void 0),i([a,l(cc.Sprite)],e)}(c.default);o.default=u,cc._RF.pop()},{"./LocalizationComponent":"LocalizationComponent"}],LoginPopup:[function(t,e,o){"use strict";cc._RF.push(e,"c1133uWI/BHh6TSlQN3+YAG","LoginPopup");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function c(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,s)}a((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(s){i=[6,s],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../controllers/GameManager"),p=t("../../controllers/UIManager"),l=t("./PopupBase"),u=cc._decorator,f=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.emailInput=null,e.passwordInput=null,e}return r(e,t),e.prototype.onLoginButtonClicked=function(){return c(this,void 0,void 0,function(){var t,e,o,n,r;return s(this,function(i){switch(i.label){case 0:return t=this.emailInput.string.trim(),e=this.passwordInput.string.trim(),""===t||""===e?(console.log("Email and password are required"),[2]):(o=a.default.instance,(n=p.default.instance.loadingPopup).show(),[4,o.loginAsync(t,e)]);case 1:return r=i.sent(),n.close(),r&&this.close(),[2]}})})},i([h(cc.EditBox)],e.prototype,"emailInput",void 0),i([h(cc.EditBox)],e.prototype,"passwordInput",void 0),i([f],e)}(l.default);o.default=d,cc._RF.pop()},{"../../controllers/GameManager":"GameManager","../../controllers/UIManager":"UIManager","./PopupBase":"PopupBase"}],MessagePopup:[function(t,e,o){"use strict";cc._RF.push(e,"3c742wHO8ZNW6k2ecE1fhY1","MessagePopup");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../models/Commons"),s=t("./PopupBase"),a=cc._decorator,p=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.messageLabel=null,e.subMessageLabel=null,e.yesButton=null,e.yesButtonLabel=null,e.noButton=null,e.noButtonLabel=null,e._callback=null,e}return r(e,t),e.prototype.invokeCallback=function(){this._callback&&(this._callback(this._selectedButton),this._callback=null)},e.prototype.onTweenCompleted=function(){t.prototype.onTweenCompleted.call(this),this.isShowing||this.invokeCallback()},e.prototype.showConfirm=function(t,e,o,n,r){this.isShowing||(this.messageLabel.string=t,e?(this.yesButton.active=!0,this.yesButtonLabel.string=e):this.yesButton.active=!1,o?(this.noButton.active=!0,this.noButtonLabel.string=o):this.noButton.active=!1,this.subMessageLabel&&(r&&r.length>0?(this.subMessageLabel.string=r,this.subMessageLabel.node.active=!0):this.subMessageLabel.node.active=!1),this._callback=n,this.show())},e.prototype.showYesOnly=function(t,e,o,n){this.showConfirm(t,e,void 0,o,n)},e.prototype.showNoOnly=function(t,e,o,n){this.showConfirm(t,void 0,e,o,n)},e.prototype.onYesClicked=function(){this._selectedButton=c.MessageBoxButton.Yes,this.close()},e.prototype.onNoClicked=function(){this._selectedButton=c.MessageBoxButton.No,this.close()},i([l(cc.Label)],e.prototype,"messageLabel",void 0),i([l(cc.Label)],e.prototype,"subMessageLabel",void 0),i([l(cc.Node)],e.prototype,"yesButton",void 0),i([l(cc.Label)],e.prototype,"yesButtonLabel",void 0),i([l(cc.Node)],e.prototype,"noButton",void 0),i([l(cc.Label)],e.prototype,"noButtonLabel",void 0),i([p],e)}(s.default);o.default=u,cc._RF.pop()},{"../../models/Commons":"Commons","./PopupBase":"PopupBase"}],NodeAnimator:[function(t,e,o){"use strict";cc._RF.push(e,"59692KMwnRMzoDFFLcNJcNj","NodeAnimator");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./BaseAnimator"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeFrames=[],e}return r(e,t),e.prototype.getMaxFrame=function(){return this.nodeFrames.length},e.prototype.processFrame=function(t){this._lastFrame&&(this._lastFrame.active=!1);var e=this.nodeFrames[t];e.active=!0,this._lastFrame=e},e.prototype.reset=function(){t.prototype.reset.call(this),this.processFrame(0)},i([p([cc.Node])],e.prototype,"nodeFrames",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./BaseAnimator":"BaseAnimator"}],ParticlePlayer:[function(t,e,o){"use strict";cc._RF.push(e,"7c96dJ2ezxOBKl1//UmcJ7d","ParticlePlayer");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Utils"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particles=[],e.delay=0,e.playOnStart=!0,e.playAtThisPosition=!0,e}return r(e,t),e.prototype.onEnable=function(){this.playOnStart&&this.emitParticles()},e.prototype.onDisable=function(){this.particles.forEach(function(t){t.resetSystem(),t.stopSystem()})},e.prototype.emitParticles=function(){var t=this;this.scheduleOnce(function(){t.particles.forEach(function(e){t.playAtThisPosition&&c.default.setParentNoOffset(e.node,t.node),e.stopSystem(),e.resetSystem()})},this.delay)},i([p([cc.ParticleSystem])],e.prototype,"particles",void 0),i([p],e.prototype,"delay",void 0),i([p],e.prototype,"playOnStart",void 0),i([p],e.prototype,"playAtThisPosition",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Utils":"Utils"}],ParticleRepeater:[function(t,e,o){"use strict";cc._RF.push(e,"ec68bAIM2BFMap9JylHqywN","ParticleRepeater");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./ParticlePlayer"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.interval=3,e._time=0,e}return r(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this._time=0},e.prototype.update=function(t){this._time+=t,this._time>=this.interval&&(this._time-=this.interval,this.emitParticles())},i([p],e.prototype,"interval",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./ParticlePlayer":"ParticlePlayer"}],PopupBase:[function(t,e,o){"use strict";cc._RF.push(e,"ce391HynB1CVps5B262jwBN","PopupBase");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../utils/TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inputBlocker=null,e.openTween=null,e.closeTween=null,e.showSFX=null,e._onCloseCallback=null,e.isShowing=!1,e}return r(e,t),e.prototype.onEnable=function(){this.show()},e.prototype.onDisable=function(){this.isShowing=!1},e.prototype.onTweenCompleted=function(){this.isShowing||(this.node.active=!1,this.inputBlocker&&(this.inputBlocker.active=!1))},e.prototype.playAnimation=function(){this.isShowing?this.openTween?(this.openTween.onCompleted=this.onTweenCompleted.bind(this),this.openTween.play()):this.onTweenCompleted():this.closeTween?(this.closeTween.onCompleted=this.onTweenCompleted.bind(this),this.closeTween.play()):this.onTweenCompleted()},e.prototype.handleClose=function(){this._onCloseCallback&&(this._onCloseCallback(),this._onCloseCallback=null)},e.prototype.show=function(){if(!this.isShowing){this.showSFX&&cc.audioEngine.playEffect(this.showSFX,!1),this.isShowing=!0,this.node.active=!0,this.playAnimation();var t=this.node.parent.childrenCount;this.node.setSiblingIndex(t-1),this.inputBlocker&&(this.inputBlocker.setSiblingIndex(t-2),this.inputBlocker.active=!0)}},e.prototype.showWithCallback=function(t){this._onCloseCallback=t,this.show()},e.prototype.close=function(){this.isShowing&&(this.isShowing=!1,this.playAnimation(),this.handleClose())},e.prototype.closeInstantly=function(){this.isShowing&&(this.isShowing=!1,this.onTweenCompleted(),this.handleClose())},e.prototype.toggleVisibility=function(){this.isShowing?this.close():this.show()},i([p(cc.Node)],e.prototype,"inputBlocker",void 0),i([p(c.default)],e.prototype,"openTween",void 0),i([p(c.default)],e.prototype,"closeTween",void 0),i([p(cc.AudioClip)],e.prototype,"showSFX",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../utils/TweenBase":"TweenBase"}],PrizeListItem:[function(t,e,o){"use strict";cc._RF.push(e,"76ee2wPIUVHW6g2RBIjJ8Uu","PrizeListItem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../controllers/GameConfigs"),s=t("../controllers/GameManager"),a=cc._decorator,p=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemImage=null,e.itemNameLabel=null,e.loadingIcon=null,e.qtyLabel=null,e.selected=null,e.gameView=null,e}var o;return r(e,t),o=e,e.prototype.initialize=function(t,e){var o=this;this.prize=t,this.loadingIcon.active=!0,this.itemImage.node.active=!1,this.qtyLabel.string=e.toString();var n=c.default.instance.locale;this.itemNameLabel.string=0===n?t.name_en:t.name_kh,t.image&&t.image.length>0&&s.default.instance.getSpriteFrameAsync(t.image,function(t){t&&(o.itemImage.spriteFrame=t,o.itemImage.node.active=!0,o.loadingIcon.active=!1)})},e.prototype.setSelected=function(t){var e=o.selectedItem;if(t){if(e===this)return;e&&(e.selected.active=!1),o.selectedItem=this}else e===this&&(o.selectedItem=null);this.selected.active=t},e.prototype.onClicked=function(){this.gameView&&this.gameView.onPrizeItemClicked(this)},e.selectedItem=null,i([l(cc.Sprite)],e.prototype,"itemImage",void 0),i([l(cc.Label)],e.prototype,"itemNameLabel",void 0),i([l(cc.Node)],e.prototype,"loadingIcon",void 0),i([l(cc.Label)],e.prototype,"qtyLabel",void 0),i([l(cc.Node)],e.prototype,"selected",void 0),o=i([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../controllers/GameConfigs":"GameConfigs","../controllers/GameManager":"GameManager"}],SoundManager:[function(t,e,o){"use strict";cc._RF.push(e,"ba147UyotBOvKjaupLIxTdx","SoundManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicClips=[],e.sfxClips=[],e.musicDefaultVolume=.3,e.sfxDefaultVolume=.6,e.activeMusicId=-1,e.activeMusicName=null,e.transitionMusicName=null,e.isTransitioning=!1,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.playSFX=function(t,e,o,n){void 0===o&&(o=0),void 0===n&&(n=this.sfxDefaultVolume);var r=this.playAudio(t,e,n,this.sfxClips);return o>0&&this.fadeAudio(r,o,0,n),r},e.prototype.playSFXClip=function(t,e,o,n){void 0===o&&(o=0),void 0===n&&(n=this.sfxDefaultVolume);var r=cc.audioEngine.play(t,e,n);return o>0&&this.fadeAudio(r,o,0,n),r},e.prototype.playMusic=function(t,e,o,n){if(void 0===o&&(o=0),void 0===n&&(n=this.musicDefaultVolume),t===this.activeMusicName)return this.activeMusicId;var r=this.playAudio(t,e,n,this.musicClips);return o>0&&this.fadeAudio(r,o,0,n),this.activeMusicId=r,this.activeMusicName=t,r},e.prototype.transitionMusic=function(t,e,o,n,r){var i=this;if(void 0===r&&(r=this.musicDefaultVolume),this.activeMusicName!==t&&this.transitionMusicName!==t&&(this._transitionMusicVolume=r,this.transitionMusicName=t,!this.isTransitioning)){this.isTransitioning=!0;var c=0;this.activeMusicId>=0&&(c=o,this.stopAudio(this.activeMusicId,o)),this.scheduleOnce(function(){i.playMusic(i.transitionMusicName,e,n,i._transitionMusicVolume),i.transitionMusicName=null,i.isTransitioning=!1},c)}},e.prototype.setAudioVolume=function(t,e){cc.audioEngine.setVolume(t,e)},e.prototype.stopAudio=function(t,e){void 0===e&&(e=0),e>0?this.fadeAudio(t,e,cc.audioEngine.getVolume(t),0):this.stopAndCleanUp(t)},e.prototype.stopAndCleanUp=function(t){cc.audioEngine.stop(t),t===this.activeMusicId&&(this.activeMusicId=-1)},e.prototype.playAudio=function(t,e,o,n){for(var r=0;r<n.length;r++){var i=n[r];if(t===i.name)return cc.audioEngine.play(i,e,o)}return-1},e.prototype.fadeAudio=function(t,e,o,n){var r={volume:o},i=this;cc.tween(r).to(e,{volume:n},{progress:function(e,o,n,r){return n=e+(o-e)*r,cc.audioEngine.setVolume(t,n),n}}).call(function(){n<=0&&i.stopAndCleanUp(t)}).start()},e.instance=null,i([a([cc.AudioClip])],e.prototype,"musicClips",void 0),i([a([cc.AudioClip])],e.prototype,"sfxClips",void 0),i([a],e.prototype,"musicDefaultVolume",void 0),i([a],e.prototype,"sfxDefaultVolume",void 0),o=i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],SpriteAnimator:[function(t,e,o){"use strict";cc._RF.push(e,"ea82dKiRQRFVKnQBPiJMpQh","SpriteAnimator");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./BaseAnimator"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.frames=[],e}return r(e,t),e.prototype.start=function(){this.sprite||(this.sprite=this.getComponent(cc.Sprite))},e.prototype.getMaxFrame=function(){return this.frames.length},e.prototype.processFrame=function(t){this.sprite&&(this.sprite.spriteFrame=this.frames[t])},e.prototype.reset=function(){t.prototype.reset.call(this),this.processFrame(0)},i([p(cc.Sprite)],e.prototype,"sprite",void 0),i([p([cc.SpriteFrame])],e.prototype,"frames",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./BaseAnimator":"BaseAnimator"}],SpriteManager:[function(t,e,o){"use strict";cc._RF.push(e,"17471FlYKhItYwa3lwq9nlJ","SpriteManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadedSpriteFrames={},e}return r(e,t),e.prototype.getSpriteFrameAsync=function(t,e){var o=this.loadedSpriteFrames[t];if(o)e&&e(o);else{var n=this;cc.assetManager.loadRemote(t,function(o,r){if(o)return console.error(o),void(e&&e(null));var i=new cc.SpriteFrame(r);n.loadedSpriteFrames[t]=i,e&&e(i)})}},i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],TweenBase:[function(t,e,o){"use strict";cc._RF.push(e,"34f3aJeCwdKZ4Qkj/frTPM9","TweenBase");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Utils"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.delay=0,e.duration=1,e.playOnAwake=!0,e.delayPlayOnAwake=0,e.loops=0,e.pingPong=!1,e.easing=c.EasingFunction.Linear,e.resetAtPlay=!0,e.onTweenFinished=[],e.isPlaying=!1,e.onCompleted=null,e.playingTween=null,e.loopLeft=0,e}return r(e,t),e.prototype.onEnable=function(){var t=this;this.target||(this.target=this.node),this.playOnAwake?this.delayPlayOnAwake>0?this.scheduleOnce(function(){return t.play()},this.delayPlayOnAwake):this.play():this.isPlaying&&(this.stop(),this.play())},e.prototype.onDisable=function(){this.stop()},e.prototype.createTween=function(){var t=this,e=cc.tween(this.getTarget()).delay(this.delay);return(e=this.setupTween(e)).call(function(){t.onTweenEnded()})},e.prototype.setupTween=function(t){return t},e.prototype.getEasingProps=function(){return{easing:c.EasingFunctionName.get(this.easing)}},e.prototype.onTweenEnded=function(){this.loopLeft--,0===this.loopLeft||0===this.loops?(this.stop(),this.onTweenCompleted()):(this.isPlaying=!1,this.play())},e.prototype.onTweenCompleted=function(){var t=this;this.onCompleted&&this.onCompleted(),this.onTweenFinished&&this.onTweenFinished.forEach(function(e){e&&e.emit([t])})},e.prototype.getTarget=function(){return this.target||this.node},e.prototype.playTween=function(){this.getTarget().active=!0;var t=this.createTween();this.playingTween=t.start()},e.prototype.play=function(){this.isPlaying||(this.resetAtPlay&&this.reset(),this.isPlaying=!0,this.loopLeft<=0&&(this.loopLeft=this.loops),this.playTween())},e.prototype.stop=function(){this.isPlaying&&(this.playingTween&&(this.playingTween.stop(),this.playingTween=null),this.isPlaying=!1,this.loopLeft=0)},e.prototype.reset=function(){},e.prototype.setTarget=function(t){this.target=t},i([p({type:cc.Node,tooltip:"Target of the tween animation. If left empty it will use the node that this tween attached to"})],e.prototype,"target",void 0),i([p({tooltip:"Delay duration in seconds before the tween animation start playing. 0 = No Delay"})],e.prototype,"delay",void 0),i([p({tooltip:"Duration in seconds of the tween animation",min:.1})],e.prototype,"duration",void 0),i([p({tooltip:"Play the tween as soon as it is enabled"})],e.prototype,"playOnAwake",void 0),i([p],e.prototype,"delayPlayOnAwake",void 0),i([p({tooltip:"Number of loops. -1 = Infinite. 0 = No Loop"})],e.prototype,"loops",void 0),i([p({tooltip:"Play tween backward once it reach the <to>"})],e.prototype,"pingPong",void 0),i([p({type:cc.Enum(c.EasingFunction),tooltip:"Easing function of the tween"})],e.prototype,"easing",void 0),i([p({tooltip:"Should the tween reset to the from value on start?"})],e.prototype,"resetAtPlay",void 0),i([p([cc.Component.EventHandler])],e.prototype,"onTweenFinished",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Utils":"Utils"}],TweenColor:[function(t,e,o){"use strict";cc._RF.push(e,"151c4zoiYBBMpy8F3JgZfRR","TweenColor");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromColor=cc.Color.WHITE,e.toColor=cc.Color.WHITE,e}return r(e,t),e.prototype.setupTween=function(t){var e=t.to(this.duration,{color:this.toColor},this.getEasingProps());return this.pingPong&&(e=e.to(this.duration,{color:this.fromColor},this.getEasingProps())),e},e.prototype.reset=function(){this.getTarget().color=this.fromColor},i([p(cc.Color)],e.prototype,"fromColor",void 0),i([p(cc.Color)],e.prototype,"toColor",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenFade:[function(t,e,o){"use strict";cc._RF.push(e,"66509LoJ/NG94i/fxL/hd1Q","TweenFade");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromOpacity=0,e.toOpacity=255,e}return r(e,t),e.prototype.setupTween=function(t){var e=t.to(this.duration,{opacity:this.toOpacity},this.getEasingProps());return this.pingPong&&(e=e.to(this.duration,{opacity:this.fromOpacity},this.getEasingProps())),e},e.prototype.reset=function(){this.getTarget().opacity=this.fromOpacity},i([p({range:[0,255],slide:!0})],e.prototype,"fromOpacity",void 0),i([p({range:[0,255],slide:!0})],e.prototype,"toOpacity",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenGroup:[function(t,e,o){"use strict";cc._RF.push(e,"bd9f9i9u9dEzI1uf0ikoLCQ","TweenGroup");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tweens=[],e.parrallel=!1,e._playingTweenIndex=0,e}return r(e,t),e.prototype.play=function(){var t=this;this.isPlaying||(this.isPlaying=!0,this._playingTweenIndex=0,this.resetAtPlay&&this.reset(),this.scheduleOnce(function(){if(t.tweens&&t.tweens.length>0)for(var e=0;e<t.tweens.length;e++){var o=t.tweens[e];if(o.onCompleted=function(){return t.onChildTweenCompleted()},o.play(),!t.parrallel)break}},this.delay))},e.prototype.stop=function(){this.isPlaying&&(this.isPlaying=!1,this.tweens.forEach(function(t){return t.stop()}))},e.prototype.reset=function(){this.tweens.forEach(function(t){return t.reset()})},e.prototype.setTarget=function(t){this.target=t,this.tweens.forEach(function(e){return e.target=t})},e.prototype.onChildTweenCompleted=function(){var t=this;if(this.isPlaying)if(this._playingTweenIndex++,this._playingTweenIndex>=this.tweens.length)this.onTweenEnded();else if(!this.parrallel){var e=this.tweens[this._playingTweenIndex];e.onCompleted=function(){return t.onChildTweenCompleted()},e.play()}},i([p([c.default])],e.prototype,"tweens",void 0),i([p],e.prototype,"parrallel",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenPosition:[function(t,e,o){"use strict";cc._RF.push(e,"fbdeczXeWlJBLLMiTqcY7BU","TweenPosition");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromPosition=cc.v3(0),e.toPosition=cc.v3(0),e}return r(e,t),e.prototype.setupTween=function(t){var e=t.to(this.duration,{position:this.toPosition},this.getEasingProps());return this.pingPong&&(e=e.to(this.duration,{position:this.fromPosition},this.getEasingProps())),e},e.prototype.reset=function(){this.getTarget().setPosition(this.fromPosition)},i([p(cc.Vec3)],e.prototype,"fromPosition",void 0),i([p(cc.Vec3)],e.prototype,"toPosition",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenRotation:[function(t,e,o){"use strict";cc._RF.push(e,"3e592mQLeNK7L6wXj6qXEZT","TweenRotation");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromAngle=0,e.toAngle=0,e}return r(e,t),e.prototype.setupTween=function(t){var e=t.to(this.duration,{angle:-this.toAngle},this.getEasingProps());return this.pingPong&&(e=e.to(this.duration,{angle:-this.fromAngle},this.getEasingProps())),e},e.prototype.reset=function(){this.getTarget().angle=-this.fromAngle},i([p],e.prototype,"fromAngle",void 0),i([p],e.prototype,"toAngle",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenScaleX:[function(t,e,o){"use strict";cc._RF.push(e,"487e8hqrpBFZJqcqwRYWdKz","TweenScaleX");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromScale=0,e.toScale=1,e}return r(e,t),e.prototype.setupTween=function(t){var e=t.to(this.duration,{scaleX:this.toScale},this.getEasingProps());return this.pingPong&&(e=e.to(this.duration,{scaleX:this.fromScale},this.getEasingProps())),e},e.prototype.reset=function(){this.getTarget().scaleX=this.fromScale},i([p],e.prototype,"fromScale",void 0),i([p],e.prototype,"toScale",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenScaleY:[function(t,e,o){"use strict";cc._RF.push(e,"45a97qKaxVAn5mg9qRghQuU","TweenScaleY");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromScale=0,e.toScale=1,e}return r(e,t),e.prototype.setupTween=function(t){var e=t.to(this.duration,{scaleY:this.toScale},this.getEasingProps());return this.pingPong&&(e=e.to(this.duration,{scaleY:this.fromScale},this.getEasingProps())),e},e.prototype.reset=function(){this.getTarget().scaleY=this.fromScale},i([p],e.prototype,"fromScale",void 0),i([p],e.prototype,"toScale",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenScale:[function(t,e,o){"use strict";cc._RF.push(e,"39117Q6VCdEipxqSEE3GEpH","TweenScale");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromScale=0,e.toScale=1,e}return r(e,t),e.prototype.setupTween=function(t){var e=t.to(this.duration,{scale:this.toScale},this.getEasingProps());return this.pingPong&&(e=e.to(this.duration,{scale:this.fromScale},this.getEasingProps())),e},e.prototype.reset=function(){this.getTarget().setScale(this.fromScale)},i([p],e.prototype,"fromScale",void 0),i([p],e.prototype,"toScale",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenShake:[function(t,e,o){"use strict";cc._RF.push(e,"43b72PuHDVMF4uiq4RLuOup","TweenShake");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromScale=cc.v2(),e.toScale=cc.v2(),e.fromAngle=0,e.shakeAngleRange=5,e}return r(e,t),e.prototype.setupTween=function(t){var e=this.duration/3,o=this.getEasingProps(),n=cc.tween().to(e,{angle:-this.fromAngle-this.shakeAngleRange},o).to(e,{angle:-this.fromAngle+this.shakeAngleRange},o).to(e,{angle:-this.fromAngle},o),r=t.parallel(n,cc.tween().to(this.duration,{scaleX:this.toScale.x,scaleY:this.toScale.y},o));return this.pingPong&&(r=r.parallel(n,cc.tween().to(this.duration,{scaleX:this.fromScale.x,scaleY:this.fromScale.y},o))),r},e.prototype.reset=function(){var t=this.getTarget();t.setScale(this.fromScale),t.angle=-this.fromAngle},i([p(cc.Vec2)],e.prototype,"fromScale",void 0),i([p(cc.Vec2)],e.prototype,"toScale",void 0),i([p],e.prototype,"fromAngle",void 0),i([p({tooltip:"Allow angle range for rotation tween. fromAngle - shakeAngle => fromAngle => fromAngle + shakeAngle"})],e.prototype,"shakeAngleRange",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenSize:[function(t,e,o){"use strict";cc._RF.push(e,"d5b9djxcv5DtZJhVPyjAl5k","TweenSize");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromSize=cc.size(100,100),e.toSize=cc.size(0,0),e}return r(e,t),e.prototype.setupTween=function(t){var e=t.to(this.duration,{width:this.toSize.width,height:this.toSize.height},this.getEasingProps());return this.pingPong&&(e=e.to(this.duration,{width:this.fromSize.width,height:this.fromSize.height},this.getEasingProps())),e},e.prototype.reset=function(){var t=this.getTarget();t.width=this.fromSize.width,t.height=this.fromSize.height},i([p(cc.Size)],e.prototype,"fromSize",void 0),i([p(cc.Size)],e.prototype,"toSize",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],TweenSpriteFill:[function(t,e,o){"use strict";cc._RF.push(e,"126d8IyVDFLpaZTvLAy2JQ6","TweenSpriteFill");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./TweenBase"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.forward=!0,e}return r(e,t),e.prototype.setupTween=function(){var t,e,o=this.getSpriteTarget();this.forward?(t=-o.fillRange,e=1):(t=1,e=-o.fillRange);var n=new cc.Tween(o).delay(this.delay).to(this.duration,{fillStart:e},this.getEasingProps());return this.pingPong&&(n=n.to(this.duration,{fillStart:t},this.getEasingProps())),n},e.prototype.getSpriteTarget=function(){return this._sprite?this._sprite:(this._sprite=this.getTarget().getComponent(cc.Sprite),this._sprite)},e.prototype.reset=function(){var t=this.getSpriteTarget();t.fillStart=this.forward?-t.fillRange:1},i([p],e.prototype,"forward",void 0),i([a],e)}(c.default);o.default=l,cc._RF.pop()},{"./TweenBase":"TweenBase"}],UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"24873MChvxMjJajvCQqK0XO","UIManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../models/Commons"),s=t("../ui/GameView"),a=t("../ui/popups/LoginPopup"),p=t("../ui/popups/MessagePopup"),l=t("../ui/popups/PopupBase"),u=t("./GameConfigs"),f=cc._decorator,h=f.ccclass,d=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingPopup=null,e.confirmationPopup=null,e.errorPopup=null,e.alertPopup=null,e.loginPopup=null,e.gameView=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.showErrorPopup=function(t,e,o){var n=u.default.instance.locale===c.Localization.English,r=t||"",i=r.startsWith("!");i&&(r=r.slice(1)),r=r.replace(/\\n/g,"\n"),i?this.alertPopup.showYesOnly(r,o||(n?"Close":"\u1794\u17b7\u1791"),e):this.errorPopup.showNoOnly(r,o||(n?"Close":"\u1794\u17b7\u1791"),e)},e.prototype.showAlertPopup=function(t,e,o,n){var r=u.default.instance.locale===c.Localization.English,i=t||"";this.alertPopup.showYesOnly(i,n||(r?"Accept":"\u1799\u179b\u17cb\u1796\u17d2\u179a\u1798"),e,o)},e.prototype.showConfirmPopup=function(t,e,o,n,r){this.confirmationPopup.showConfirm(t,e,o,function(t){n&&n(t===c.MessageBoxButton.Yes)},r)},i([d(l.default)],e.prototype,"loadingPopup",void 0),i([d(p.default)],e.prototype,"confirmationPopup",void 0),i([d(p.default)],e.prototype,"errorPopup",void 0),i([d(p.default)],e.prototype,"alertPopup",void 0),i([d(a.default)],e.prototype,"loginPopup",void 0),i([d(s.default)],e.prototype,"gameView",void 0),o=i([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../models/Commons":"Commons","../ui/GameView":"GameView","../ui/popups/LoginPopup":"LoginPopup","../ui/popups/MessagePopup":"MessagePopup","../ui/popups/PopupBase":"PopupBase","./GameConfigs":"GameConfigs"}],UserPreference:[function(t,e,o){"use strict";cc._RF.push(e,"415aawISVRG+KPyjd/lu5o8","UserPreference"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getKey=function(t){return this.prefix_key+t},t.get=function(t,e){return void 0===e&&(e=""),localStorage.getItem(this.getKey(t))||e},t.set=function(t,e){localStorage.setItem(this.getKey(t),e)},t.deleteKey=function(t){localStorage.removeItem(this.getKey(t))},t.deleteAll=function(){localStorage.clear()},t.prefix_key="GAME",t}();o.default=n,cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"c5abbiPTF5AxKjjb6b05xFl","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.RAD_TO_DEG=o.DEG_TO_RAD=o.EasingFunction=o.EasingFunctionName=void 0,o.default={randomRange:function(t,e){return Math.random()*(e-t)+t},randomRangeInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},getWorldRotation:function(t){var e=t,o=-e.angle;do{o+=-(e=e.parent).angle}while(null!=e.parent);return o%360},getWorldScale:function(t){var e=t,o=cc.v3(t.scaleX,t.scaleY,t.scaleZ);do{e=e.parent,o.x*=e.scaleX,o.y*=e.scaleY,o.z*=e.scaleZ}while(null!=e.parent);return o},changeParent:function(t,e){if(t.parent!=e){var o=this.getWorldRotation(t)-this.getWorldRotation(e),n=t.convertToWorldSpaceAR(cc.v3(0)),r=e.convertToNodeSpaceAR(n),i=this.getWorldScale(t),c=this.getWorldScale(e),s=cc.v3(i.x/c.x,i.y/c.y,i.z/c.z);t.parent=e,t.position=r,t.angle=-o,t.setScale(s)}},setParentNoOffset:function(t,e){t.setParent(e),t.setPosition(0,0),t.angle=0,t.setScale(1)},randomElement:function(t){var e;return t[(0,e=t.length-1,Math.floor(Math.random()*(e-0+1)+0))]}};var n=function(){function t(){}return t.get=function(t){return this.easingNames[t]},t.easingNames=["linear","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","circIn","circOut","circInOut","cubicIn","cubicOut","cubicInOut","elasticIn","elasticOut","elasticInOut","expoIn","expoOut","expoInOut","fade","quadIn","quadOut","quadInOut","quartIn","quartOut","quartInOut","quintIn","quintOut","quintInOut","sineIn","sineOut","sineInOut","smooth"],t}();o.EasingFunctionName=n,function(t){t[t.Linear=0]="Linear",t[t.BackIn=1]="BackIn",t[t.BackOut=2]="BackOut",t[t.BackInOut=3]="BackInOut",t[t.BounceIn=4]="BounceIn",t[t.BounceOut=5]="BounceOut",t[t.BounceInOut=6]="BounceInOut",t[t.CircleIn=7]="CircleIn",t[t.CircleOut=8]="CircleOut",t[t.CircleInOut=9]="CircleInOut",t[t.CubicIn=10]="CubicIn",t[t.CubicOut=11]="CubicOut",t[t.CubicInOut=12]="CubicInOut",t[t.ElasticIn=13]="ElasticIn",t[t.ElasticOut=14]="ElasticOut",t[t.ElasticInOut=15]="ElasticInOut",t[t.ExpoIn=16]="ExpoIn",t[t.ExpoOut=17]="ExpoOut",t[t.ExpoInOut=18]="ExpoInOut",t[t.Fade=19]="Fade",t[t.QuadIn=20]="QuadIn",t[t.QuadOut=21]="QuadOut",t[t.QuadInOut=22]="QuadInOut",t[t.QuartIn=23]="QuartIn",t[t.QuartOut=24]="QuartOut",t[t.QuartInOut=25]="QuartInOut",t[t.QuinticIn=26]="QuinticIn",t[t.QuinticOut=27]="QuinticOut",t[t.QuinticInOut=28]="QuinticInOut",t[t.SineIn=29]="SineIn",t[t.SineOut=30]="SineOut",t[t.SineInOut=31]="SineInOut",t[t.Smooth=32]="Smooth"}(o.EasingFunction||(o.EasingFunction={})),o.DEG_TO_RAD=Math.PI/180,o.RAD_TO_DEG=180/Math.PI,cc._RF.pop()},{}],WinnerListItem:[function(t,e,o){"use strict";cc._RF.push(e,"854c88ek8NKgr5OVGa9tBzp","WinnerListItem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phoneLabel=null,e}return r(e,t),e.prototype.initialize=function(t){this.phoneLabel.string=t},i([a(cc.Label)],e.prototype,"phoneLabel",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["ButtonSoundPlayer","GameConfigs","GameManager","SoundManager","SpriteManager","UIManager","Commons","UserPreference","CustomEditBox","GameView","LocaleFontSetter","LocalizationComponent","LocalizationLabel","LocalizationNode","LocalizationSprite","PrizeListItem","WinnerListItem","ErrorPopup","LoginPopup","MessagePopup","PopupBase","BaseAnimator","DontDestroyOnLoad","FXObject","HyperlinkButton","NodeAnimator","ParticlePlayer","ParticleRepeater","SpriteAnimator","TweenBase","TweenColor","TweenFade","TweenGroup","TweenPosition","TweenRotation","TweenScale","TweenScaleX","TweenScaleY","TweenShake","TweenSize","TweenSpriteFill","Utils"]);